{% extends "core/base.html" %}
{% load static %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h2 class="text-2xl font-bold mb-6">{{ exam.title }}</h2>

    <form method="post">
        {% csrf_token %}
        {% for question in exam.questions.all %}
            <div class="mb-6 border-b pb-4">
                <p class="font-semibold">{{ forloop.counter }}. {{ question.text }}</p>

                {% if question.question_type == "multiple_choice" %}
                    {% for choice in question.choices.all %}
                        <label class="block ml-4">
                            <input type="radio" name="question_{{ question.id }}" value="{{ choice.id }}">
                            {{ choice.text }}
                        </label>
                    {% endfor %}

                {% elif question.question_type == "true_false" %}
                    <label class="block ml-4">
                        <input type="radio" name="question_{{ question.id }}" value="True"> True
                    </label>
                    <label class="block ml-4">
                        <input type="radio" name="question_{{ question.id }}" value="False"> False
                    </label>

                {% else %}
                    <textarea name="question_{{ question.id }}" rows="3"
                              class="w-full mt-2 border rounded-md p-2"
                              placeholder="Your answer..."></textarea>
                {% endif %}
            </div>
        {% endfor %}

        <button type="submit"
                class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
            Submit Exam
        </button>
    </form>
</div>
{% endblock %}
